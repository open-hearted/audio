<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
<title>Gaza Audio Sentence Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
body {
font-family: sans-serif;
padding: 1rem;
      background: #f0f2f5;
      max-width: 700px;
margin: auto;
}

    .card {
      background: white;
      border: 1px solid #ddd;
      border-radius: 12px;
      padding: 1.2rem;
      margin-bottom: 2rem;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    }

h1, h2 {
font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }

    audio {
      width: 100%;
      margin-top: 0.5rem;
}

.status {
      margin-top: 0.5rem;
font-size: 1rem;
      color: #333;
}

.collapsible {
background-color: #eee;
cursor: pointer;
      padding: 0.5rem 1rem;
border: none;
      font-size: 0.95rem;
margin-top: 0.8rem;
width: 100%;
      border-radius: 6px;
      text-align: left;
}

    .collapsible:hover {
      background-color: #ddd;
}

.content {
display: none;
      background-color: #fafafa;
      padding: 1rem;
border: 1px solid #ccc;
      margin-top: 0.5rem;
      border-radius: 6px;
white-space: pre-wrap;
}
</style>
</head>
@@ -66,12 +81,7 @@

function getFormattedDateTime() {
const now = new Date();
      return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
}

function setupBlock(audioId, statusId, storageKey) {
@@ -83,66 +93,60 @@
status.textContent = `âœ… Played (${data.timestamp})`;
}

      audio.addEventListener("ended", () => {
const timestamp = getFormattedDateTime();
localStorage.setItem(storageKey, JSON.stringify({ played: true, timestamp }));
status.textContent = `âœ… Played (${timestamp})`;
});
}

    // Render sentence blocks
    window.addEventListener("DOMContentLoaded", () => {
      const container = document.body;

      sentences.forEach((text, i) => {
        const num = i + 1;
        const audioId = `audio${num}`;
        const statusId = `status${num}`;
        const storageKey = `audioPlayed_${num}`;
        const section = document.createElement("div");
        section.className = "card";
        section.innerHTML = `
          <h2>Sentence ${num}/8</h2>
          <audio id="${audioId}" controls>
            <source src="March%2015%202025%20-%201800%20UTC%20Gaza%20%20Israeli%20Airstrike%20Kills%20Aid%20Workers/${num}.mp3" type="audio/mpeg">
          </audio>
          <div class="status" id="${statusId}">â¬œ Not played</div>
          <button class="collapsible">ðŸ“œ Show Script</button>
          <div class="content">${text}</div>
        `;
        container.appendChild(section);
        setupBlock(audioId, statusId, storageKey);
      });

      // Add full audio block at the bottom
      const fullCard = document.createElement("div");
      fullCard.className = "card";
      fullCard.innerHTML = `
        <h2>Full News Audio</h2>
        <audio id="audioFull" controls>
          <source src="March%2015%202025%20-%201800%20UTC%20Gaza%20%20Israeli%20Airstrike%20Kills%20Aid%20Workers/March%2015%202025%20-%201800%20UTC%20Gaza%20%20Israeli%20Airstrike%20Kills%20Aid%20Workers.mp3" type="audio/mpeg">
       </audio>
        <div class="status" id="statusFull">â¬œ Not played</div>
       <button class="collapsible">ðŸ“œ Show Script</button>
        <div class="content">${sentences.join('\n')}</div>
     `;
      container.appendChild(fullCard);
      setupBlock("audioFull", "statusFull", "audioPlayed_full");

      // Collapsible toggles
      document.querySelectorAll(".collapsible").forEach(btn => {
        btn.addEventListener("click", function () {
          this.classList.toggle("active");
          const content = this.nextElementSibling;
          content.style.display = content.style.display === "block" ? "none" : "block";
        });
      });
});
</script>
